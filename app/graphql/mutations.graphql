mutation createPost($body:String!, $userId:uuid!, $groupId:uuid!, $photoUrl:String) {
  insert_posts_one(object: { body: $body, userId:$userId, groupId:$groupId, photoUrl:$photoUrl }) {
    id
    body
    photoUrl
    userId
    groupId
    updatedAt
    createdAt
  }
}

mutation createPostAdmin($body:String!, $photoUrl:String) {
  insert_posts_one(object: { body: $body, photoUrl:$photoUrl }) {
    id
    body
    photoUrl
    userId
    groupId
    updatedAt
    createdAt
  }
}

mutation updatePost($id: uuid!, $body:String!, $photoUrl:String) {
  update_posts_by_pk(pk_columns: {id: $id}, _set: {body: $body, photoUrl: $photoUrl}) {
    id
    body
    photoUrl
    userId
    groupId
    updatedAt
    createdAt
  }
}

mutation deletePost($id: uuid!) {
  delete_posts_by_pk(id: $id) {
    id
  }
}

mutation addUserToGroup($userId: uuid!, $groupId: uuid!) {
  insert_userGroups_one(object: {groupId: $groupId, userId: $userId }) {
    userId
    groupId
  }
}

mutation removeUserFromGroup($userId: uuid!, $groupId: uuid!) {
  delete_userGroups(where: {_and: [{userId: {_eq: $userId }}, {groupId: {_eq: $groupId }}]}) {
    affected_rows
  }
}
